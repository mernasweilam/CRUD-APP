{"remainingRequest":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/babel-loader/lib/index.js!/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/Merna.Hossam/Desktop/crud-app-backend/client/src/components/TeamComponent.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/src/components/TeamComponent.vue","mtime":1640013842506},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/babel.config.js","mtime":1639852633330},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCBjcnVkQXhpb3MgZnJvbSAnLi4vY29yZS9jcnVkQXhpb3MnOyAvLyBpbXBvcnQgRGF0ZXBpY2tlciBmcm9tICcuLi8uLi9ub2RlX21vZHVsZXMvdnVlanMtZGF0ZXBpY2tlcic7IAoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdUZWFtQ29tcG9uZW50JywKICBwcm9wczoge30sCiAgY29tcG9uZW50czogey8vIERhdGVwaWNrZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0ZWFtczogW10sCiAgICAgIHZpZXdUaXRsZTogJ1RlYW0gTWFuYWdlbWVudCcsCiAgICAgIG5hbWU6ICcnLAogICAgICB0ZWFtSWQ6IDAsCiAgICAgIHN0YXJ0RGF0ZTogJycsCiAgICAgIGVuZERhdGU6ICcnLAogICAgICBtb2RhbFRpdGxlOiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vcmV0dXJuIHRlYW1zCiAgICBnZXRBbGxUZWFtczogZnVuY3Rpb24gZ2V0QWxsVGVhbXMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBjcnVkQXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpL3RlYW1zIikudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIF90aGlzLnRlYW1zID0gZGF0YS5kYXRhOwogICAgICAgIGNvbnNvbGUubG9nKCdkYXRhJywgZGF0YS5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgLy9hZGQgbmV3IHRlYW0KICAgIGFkZENsaWNrOiBmdW5jdGlvbiBhZGRDbGljaygpIHsKICAgICAgY29uc29sZS5sb2coJ2NsaWNrZWQgcG9wdXAnKTsKICAgICAgdGhpcy5tb2RhbFRpdGxlID0gJ0FkZCBUZWFtJzsKICAgICAgdGhpcy50ZWFtSWQgPSAwOwogICAgICB0aGlzLm5hbWUgPSAnJzsKICAgICAgdGhpcy5zdGFydERhdGUgPSAnJywgdGhpcy5lbmREYXRlID0gJyc7CiAgICB9LAogICAgLy9lZGl0IGV4aXN0aW5nIHRlYW0KICAgIGVkaXRDbGljazogZnVuY3Rpb24gZWRpdENsaWNrKHRlYW0pIHsKICAgICAgY29uc29sZS5sb2coJ3RlYW1tbW0nLCB0ZWFtKTsKICAgICAgdGhpcy5tb2RhbFRpdGxlID0gJ0VkaXQgVGVhbSc7CiAgICAgIHRoaXMudGVhbUlkID0gdGVhbS5faWQ7CiAgICAgIHRoaXMubmFtZSA9IHRlYW0ubmFtZTsKICAgICAgdGhpcy5zdGFydERhdGUgPSB0ZWFtLnN0YXJ0RGF0ZTsKICAgICAgdGhpcy5lbmREYXRlID0gdGVhbS5lbmREYXRlOwogICAgfSwKICAgIC8vQ1JFQVRFIG5ldyB0ZWFtCiAgICBjcmVhdGVUZWFtOiBmdW5jdGlvbiBjcmVhdGVUZWFtKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGNydWRBeGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpL3RlYW1zIiwgewogICAgICAgIG5hbWU6IHRoaXMubmFtZSwKICAgICAgICBzdGFydERhdGU6IHRoaXMuc3RhcnREYXRlLAogICAgICAgIGVuZERhdGU6IHRoaXMuZW5kRGF0ZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgY29uc29sZS5sb2coJ2RhdGEnLCBkYXRhLmRhdGEpOwoKICAgICAgICBfdGhpczIuZ2V0QWxsVGVhbXMoKTsKCiAgICAgICAgYWxlcnQoZGF0YS5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgLy9VUERBVEUgRVhJU1RJTkcgVEVBTQogICAgdXBkYXRlVGVhbTogZnVuY3Rpb24gdXBkYXRlVGVhbShpZCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKCd0ZWFtIGlkJywgaWQpOwogICAgICBjcnVkQXhpb3MucHV0KCJodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpL3RlYW1zLyIuY29uY2F0KGlkKSwgewogICAgICAgIG5hbWU6IHRoaXMubmFtZSwKICAgICAgICBzdGFydERhdGU6IHRoaXMuc3RhcnREYXRlLAogICAgICAgIGVuZERhdGU6IHRoaXMuZW5kRGF0ZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgY29uc29sZS5sb2coJ25ldyBzdGFydCBkYXRlJywgX3RoaXMzLnN0YXJ0RGF0ZSk7CgogICAgICAgIF90aGlzMy5nZXRBbGxUZWFtcygpOwoKICAgICAgICBhbGVydChkYXRhLmRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICAvL2RlbGV0ZSB0ZWFtCiAgICBkZWxldGVUZWFtOiBmdW5jdGlvbiBkZWxldGVUZWFtKGlkKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coJ2lkJywgaWQpOwoKICAgICAgaWYgKCFjb25maXJtKCdBcmUgeW91IHN1cmU/JykpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGNydWRBeGlvcy5kZWxldGUoImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGkvdGVhbXMvIi5jb25jYXQoaWQpKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXM0LmdldEFsbFRlYW1zKCk7CgogICAgICAgIGFsZXJ0KGRhdGEuZGF0YSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0QWxsVGVhbXMoKTsKICB9Cn07"},{"version":3,"sources":["/Users/Merna.Hossam/Desktop/crud-app-backend/client/src/components/TeamComponent.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"teams\">\n      <h3>{{viewTitle}}</h3>\n      <button type=\"button\" class=\"btn btn-primary m-2 fload-end\" data-bs-toggle=\"modal\" data-bs-target=\"#teamModal\"\n       @click=\"addClick()\">\n            Add Team\n      </button>\n    <table class=\"table table-striped\">\n      <thead>\n      <tr>\n        <th>Team name</th>\n        <th>StartDate</th>\n        <th>EndDate</th>\n        <th>Edit</th>\n        <th>Delete</th>\n      </tr>\n      </thead>\n    <tbody>\n      <tr v-for=\"team in teams\" :key=\"team._id\">\n        <td>{{team.name}}</td>\n        <td>{{team.startDate}}</td>\n        <td v-if=\"team.endDate\">{{team.endDate}}</td>\n        <td v-else>Team still exists</td>\n        <td><i class=\"fa fa-pencil\" data-bs-toggle=\"modal\" data-bs-target=\"#teamModal\" \n        @click=\"editClick(team)\"></i></td>\n        <td><i class=\"fa fa-trash\" @click=\"deleteTeam(team._id)\"></i></td>\n    </tr>\n    </tbody>\n</table>\n<div class=\"modal fade\" id=\"teamModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"teamModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n      <h5 class=\"modal-title\" id=\"teamModalLabel\">{{modalTitle}}</h5>\n      <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"\n      aria-label=\"Close\"></button>\n    </div>\n    <div class=\"modal-content\">\n      <div class=\"input-group mb-3\">\n          <span class=\"input-group-text\">Team Name</span>\n          <input type=\"text\" class=\"form-control\" v-model=\"name\"/>\n      </div>\n        <div class=\"input-group mb-3\">\n          <span class=\"input-group-text\">Team Start Date</span>\n          <input type=\"date\" class=\"form-control\" v-model=\"startDate\"/>\n        </div>\n          <div class=\"input-group mb-3\">\n          <span class=\"input-group-text\">Team End Date</span>\n          <input type=\"date\" class=\"form-control\" v-model=\"endDate\"/>\n        </div>\n      <button type=\"button\" v-if=\"teamId==0\" class=\"btn btn-primary\" @click=\"createTeam\">Create</button>\n      <button type=\"button\" v-if=\"teamId!=0\" class=\"btn btn-primary\" @click=\"updateTeam(teamId)\">Update</button>\n\n    </div>\n  </div>\n</div>\n\n</div>\n\n  </div>\n</template>\n\n<script>\nimport crudAxios from '../core/crudAxios'\n// import Datepicker from '../../node_modules/vuejs-datepicker'; \nexport default {\n  name: 'TeamComponent',\n  props: {\n  },\n  components: {\n    // Datepicker\n  },\n    data(){\n      return{\n          teams: [],\n          viewTitle: 'Team Management',\n          name: '',\n          teamId: 0,\n          startDate: '',\n          endDate: '',\n          modalTitle: ''\n      }\n  },\n\n  methods:{\n    //return teams\n    getAllTeams(){\n      crudAxios.get(`http://localhost:5000/api/teams`).then(data =>{\n        this.teams = data.data\n        console.log('data', data.data)\n      })\n    },\n    //add new team\n    addClick(){\n      console.log('clicked popup')\n      this.modalTitle= 'Add Team';\n      this.teamId = 0;\n      this.name = '';\n      this.startDate = '',\n      this.endDate = ''\n    },\n    //edit existing team\n    editClick(team){\n      console.log('teammmm', team)\n      this.modalTitle= 'Edit Team';\n      this.teamId = team._id;\n      this.name = team.name;\n      this.startDate = team.startDate;\n      this.endDate = team.endDate;\n    },\n    //CREATE new team\n    createTeam(){\n      crudAxios.post(`http://localhost:5000/api/teams`, { \n          name: this.name,\n          startDate: this.startDate,\n          endDate: this.endDate\n          })\n      .then((data)=>{\n        console.log('data', data.data)\n        this.getAllTeams();\n        alert(data.data);\n      })\n    },\n    //UPDATE EXISTING TEAM\n    updateTeam(id){\n      console.log('team id', id)\n      crudAxios.put(`http://localhost:5000/api/teams/${id}`, { \n          name: this.name,\n          startDate: this.startDate,\n          endDate: this.endDate\n          })\n      .then((data)=>{\n         console.log('new start date', this.startDate)\n        this.getAllTeams();\n       alert(data.data);\n      })\n    },\n\n    //delete team\n    deleteTeam(id){\n      console.log('id', id)\n      if(!confirm('Are you sure?')){\n        return;\n      }\n      crudAxios.delete(`http://localhost:5000/api/teams/${id}`)\n      .then(data =>{\n         this.getAllTeams();\n          alert(data.data);\n      })\n      \n    }\n  },\n  mounted(){\n    this.getAllTeams();\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.teams{\n    padding: 20px;\n}\n.fa{\n    cursor: pointer;\n}\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n\n</style>\n"],"sourceRoot":""}]}