{"remainingRequest":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/babel-loader/lib/index.js!/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/Merna.Hossam/Desktop/crud-app-backend/client/src/views/Team.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/src/views/Team.vue","mtime":1640203401227},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/babel.config.js","mtime":1639852633330},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCBjcnVkQXhpb3MgZnJvbSAnLi4vY29yZS9jcnVkQXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1RlYW0nLAogIHByb3BzOiB7fSwKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGVhbXM6IFtdLAogICAgICB2aWV3VGl0bGU6ICdUZWFtIE1hbmFnZW1lbnQnLAogICAgICBuYW1lOiAnJywKICAgICAgdGVhbUlkOiAwLAogICAgICBzdGFydERhdGU6ICcnLAogICAgICBlbmREYXRlOiAnJywKICAgICAgbW9kYWxUaXRsZTogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL3JldHVybiB0ZWFtcwogICAgZ2V0QWxsVGVhbXM6IGZ1bmN0aW9uIGdldEFsbFRlYW1zKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgY3J1ZEF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaS90ZWFtcyIpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBfdGhpcy50ZWFtcyA9IGRhdGEuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgLy9hZGQgbmV3IHRlYW0KICAgIGFkZENsaWNrOiBmdW5jdGlvbiBhZGRDbGljaygpIHsKICAgICAgY29uc29sZS5sb2coJ2NsaWNrZWQgcG9wdXAnKTsKICAgICAgdGhpcy5tb2RhbFRpdGxlID0gJ0FkZCBUZWFtJzsKICAgICAgdGhpcy50ZWFtSWQgPSAwOwogICAgICB0aGlzLm5hbWUgPSAnJzsKICAgICAgdGhpcy5zdGFydERhdGUgPSAnJywgdGhpcy5lbmREYXRlID0gJyc7CiAgICB9LAogICAgLy9lZGl0IGV4aXN0aW5nIHRlYW0KICAgIGVkaXRDbGljazogZnVuY3Rpb24gZWRpdENsaWNrKHRlYW0pIHsKICAgICAgY29uc29sZS5sb2coJ3RlYW1tbW0nLCB0ZWFtKTsKICAgICAgdGhpcy5tb2RhbFRpdGxlID0gJ0VkaXQgVGVhbSc7CiAgICAgIHRoaXMudGVhbUlkID0gdGVhbS5faWQ7CiAgICAgIHRoaXMubmFtZSA9IHRlYW0ubmFtZTsKICAgICAgdGhpcy5zdGFydERhdGUgPSB0ZWFtLnN0YXJ0RGF0ZTsKICAgICAgdGhpcy5lbmREYXRlID0gdGVhbS5lbmREYXRlOwogICAgfSwKICAgIC8vQ1JFQVRFIG5ldyB0ZWFtCiAgICBjcmVhdGVUZWFtOiBmdW5jdGlvbiBjcmVhdGVUZWFtKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGNydWRBeGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpL3RlYW1zIiwgewogICAgICAgIG5hbWU6IHRoaXMubmFtZSwKICAgICAgICBzdGFydERhdGU6IHRoaXMuc3RhcnREYXRlLAogICAgICAgIGVuZERhdGU6IHRoaXMuZW5kRGF0ZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMyLmdldEFsbFRlYW1zKCk7CgogICAgICAgIGFsZXJ0KGRhdGEuZGF0YSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vVVBEQVRFIEVYSVNUSU5HIFRFQU0KICAgIHVwZGF0ZVRlYW06IGZ1bmN0aW9uIHVwZGF0ZVRlYW0oaWQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZygndGVhbSBpZCcsIGlkKTsKICAgICAgY3J1ZEF4aW9zLnB1dCgiaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaS90ZWFtcy8iLmNvbmNhdChpZCksIHsKICAgICAgICBuYW1lOiB0aGlzLm5hbWUsCiAgICAgICAgc3RhcnREYXRlOiB0aGlzLnN0YXJ0RGF0ZSwKICAgICAgICBlbmREYXRlOiB0aGlzLmVuZERhdGUKICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIF90aGlzMy5nZXRBbGxUZWFtcygpOwoKICAgICAgICBhbGVydChkYXRhLmRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICAvL2RlbGV0ZSB0ZWFtCiAgICBkZWxldGVUZWFtOiBmdW5jdGlvbiBkZWxldGVUZWFtKGlkKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgaWYgKCFjb25maXJtKCdBcmUgeW91IHN1cmU/JykpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGNydWRBeGlvcy5kZWxldGUoImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGkvdGVhbXMvIi5jb25jYXQoaWQpKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXM0LmdldEFsbFRlYW1zKCk7CgogICAgICAgIGFsZXJ0KGRhdGEuZGF0YSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0QWxsVGVhbXMoKTsKICB9Cn07"},{"version":3,"sources":["/Users/Merna.Hossam/Desktop/crud-app-backend/client/src/views/Team.vue"],"names":[],"mappings":";AAiEA,OAAO,SAAP,MAAsB,mBAAtB;AACA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,KAAK,EAAE,EAFM;AAIb,EAAA,UAAU,EAAE,EAJC;AAMX,EAAA,IANW,kBAML;AACJ,WAAM;AACF,MAAA,KAAK,EAAE,EADL;AAEF,MAAA,SAAS,EAAE,iBAFT;AAGF,MAAA,IAAI,EAAE,EAHJ;AAIF,MAAA,MAAM,EAAE,CAJN;AAKF,MAAA,SAAS,EAAE,EALT;AAMF,MAAA,OAAO,EAAE,EANP;AAOF,MAAA,UAAU,EAAE;AAPV,KAAN;AASH,GAhBY;AAkBb,EAAA,OAAO,EAAC;AACN;AACA,IAAA,WAFM,yBAEO;AAAA;;AACX,MAAA,SAAS,CAAC,GAAV,oCAAiD,IAAjD,CAAsD,UAAA,IAAG,EAAI;AAC3D,QAAA,KAAI,CAAC,KAAL,GAAa,IAAI,CAAC,IAAlB;AACD,OAFD;AAGD,KANK;AAON;AACA,IAAA,QARM,sBAQI;AACR,MAAA,OAAO,CAAC,GAAR,CAAY,eAAZ;AACA,WAAK,UAAL,GAAiB,UAAjB;AACA,WAAK,MAAL,GAAc,CAAd;AACA,WAAK,IAAL,GAAY,EAAZ;AACA,WAAK,SAAL,GAAiB,EAAjB,EACA,KAAK,OAAL,GAAe,EADf;AAED,KAfK;AAgBN;AACA,IAAA,SAjBM,qBAiBI,IAjBJ,EAiBS;AACb,MAAA,OAAO,CAAC,GAAR,CAAY,SAAZ,EAAuB,IAAvB;AACA,WAAK,UAAL,GAAiB,WAAjB;AACA,WAAK,MAAL,GAAc,IAAI,CAAC,GAAnB;AACA,WAAK,IAAL,GAAY,IAAI,CAAC,IAAjB;AACA,WAAK,SAAL,GAAiB,IAAI,CAAC,SAAtB;AACA,WAAK,OAAL,GAAe,IAAI,CAAC,OAApB;AACD,KAxBK;AAyBN;AACA,IAAA,UA1BM,wBA0BM;AAAA;;AACV,MAAA,SAAS,CAAC,IAAV,oCAAkD;AAC9C,QAAA,IAAI,EAAE,KAAK,IADmC;AAE9C,QAAA,SAAS,EAAE,KAAK,SAF8B;AAG9C,QAAA,OAAO,EAAE,KAAK;AAHgC,OAAlD,EAKC,IALD,CAKM,UAAC,IAAD,EAAQ;AACZ,QAAA,MAAI,CAAC,WAAL;;AACA,QAAA,KAAK,CAAC,IAAI,CAAC,IAAN,CAAL;AACD,OARD;AASD,KApCK;AAqCN;AACA,IAAA,UAtCM,sBAsCK,EAtCL,EAsCQ;AAAA;;AACZ,MAAA,OAAO,CAAC,GAAR,CAAY,SAAZ,EAAuB,EAAvB;AACA,MAAA,SAAS,CAAC,GAAV,2CAAiD,EAAjD,GAAuD;AACnD,QAAA,IAAI,EAAE,KAAK,IADwC;AAEnD,QAAA,SAAS,EAAE,KAAK,SAFmC;AAGnD,QAAA,OAAO,EAAE,KAAK;AAHqC,OAAvD,EAKC,IALD,CAKM,UAAC,IAAD,EAAQ;AACZ,QAAA,MAAI,CAAC,WAAL;;AACD,QAAA,KAAK,CAAC,IAAI,CAAC,IAAN,CAAL;AACA,OARD;AASD,KAjDK;AAmDN;AACA,IAAA,UApDM,sBAoDK,EApDL,EAoDQ;AAAA;;AACZ,UAAG,CAAC,OAAO,CAAC,eAAD,CAAX,EAA6B;AAC3B;AACF;;AACA,MAAA,SAAS,CAAC,MAAV,2CAAoD,EAApD,GACC,IADD,CACM,UAAA,IAAG,EAAI;AACV,QAAA,MAAI,CAAC,WAAL;;AACC,QAAA,KAAK,CAAC,IAAI,CAAC,IAAN,CAAL;AACH,OAJD;AAMF;AA9DM,GAlBK;AAkFb,EAAA,OAlFa,qBAkFJ;AACP,SAAK,WAAL;AACF;AApFa,CAAf","sourcesContent":["<template>\n  <div>\n    <div class=\"teams\">\n        <h3>{{viewTitle}}</h3>\n        <button type=\"button\" class=\"btn btn-primary m-2 fload-end\" data-bs-toggle=\"modal\" data-bs-target=\"#teamModal\"\n          @click=\"addClick()\">\n              Add Team\n        </button>\n      <table class=\"table table-striped\">\n        <thead>\n        <tr>\n          <th>Team name</th>\n          <th>StartDate</th>\n          <th>EndDate</th>\n          <th>Edit</th>\n          <th>Delete</th>\n        </tr>\n        </thead>\n      <tbody>\n        <tr v-for=\"team in teams\" :key=\"team._id\">\n          <td>{{team.name}}</td>\n          <td>{{team.startDate}}</td>\n          <td v-if=\"team.endDate\">{{team.endDate}}</td>\n          <td v-else>Team still exists</td>\n          <td><i class=\"fa fa-pencil\" data-bs-toggle=\"modal\" data-bs-target=\"#teamModal\" \n          @click=\"editClick(team)\"></i></td>\n          <td><i class=\"fa fa-trash\" @click=\"deleteTeam(team._id)\"></i></td>\n      </tr>\n      </tbody>\n    </table>\n    <div class=\"modal fade\" id=\"teamModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"teamModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"teamModalLabel\">{{modalTitle}}</h5>\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"\n        aria-label=\"Close\"></button>\n      </div>\n      <div class=\"modal-content\">\n        <div class=\"input-group mb-3\">\n            <span class=\"input-group-text\">Team Name</span>\n            <input type=\"text\" class=\"form-control\" v-model=\"name\"/>\n        </div>\n          <div class=\"input-group mb-3\">\n            <span class=\"input-group-text\">Team Start Date</span>\n            <input type=\"date\" class=\"form-control\" v-model=\"startDate\"/>\n          </div>\n            <div class=\"input-group mb-3\">\n            <span class=\"input-group-text\">Team End Date</span>\n            <input type=\"date\" class=\"form-control\" v-model=\"endDate\"/>\n          </div>\n        <button type=\"button\" v-if=\"teamId==0\" class=\"btn btn-primary\" @click=\"createTeam\">Create</button>\n        <button type=\"button\" v-if=\"teamId!=0\" class=\"btn btn-primary\" @click=\"updateTeam(teamId)\">Update</button>\n\n      </div>\n    </div>\n    </div>\n\n    </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport crudAxios from '../core/crudAxios'\nexport default {\n  name: 'Team',\n  props: {\n  },\n  components: {\n  },\n    data(){\n      return{\n          teams: [],\n          viewTitle: 'Team Management',\n          name: '',\n          teamId: 0,\n          startDate: '',\n          endDate: '',\n          modalTitle: ''\n      }\n  },\n\n  methods:{\n    //return teams\n    getAllTeams(){\n      crudAxios.get(`http://localhost:5000/api/teams`).then(data =>{\n        this.teams = data.data\n      })\n    },\n    //add new team\n    addClick(){\n      console.log('clicked popup')\n      this.modalTitle= 'Add Team';\n      this.teamId = 0;\n      this.name = '';\n      this.startDate = '',\n      this.endDate = ''\n    },\n    //edit existing team\n    editClick(team){\n      console.log('teammmm', team)\n      this.modalTitle= 'Edit Team';\n      this.teamId = team._id;\n      this.name = team.name;\n      this.startDate = team.startDate;\n      this.endDate = team.endDate;\n    },\n    //CREATE new team\n    createTeam(){\n      crudAxios.post(`http://localhost:5000/api/teams`, { \n          name: this.name,\n          startDate: this.startDate,\n          endDate: this.endDate\n          })\n      .then((data)=>{\n        this.getAllTeams();\n        alert(data.data);\n      })\n    },\n    //UPDATE EXISTING TEAM\n    updateTeam(id){\n      console.log('team id', id)\n      crudAxios.put(`http://localhost:5000/api/teams/${id}`, { \n          name: this.name,\n          startDate: this.startDate,\n          endDate: this.endDate\n          })\n      .then((data)=>{\n        this.getAllTeams();\n       alert(data.data);\n      })\n    },\n\n    //delete team\n    deleteTeam(id){\n      if(!confirm('Are you sure?')){\n        return;\n      }\n      crudAxios.delete(`http://localhost:5000/api/teams/${id}`)\n      .then(data =>{\n         this.getAllTeams();\n          alert(data.data);\n      })\n      \n    }\n  },\n  mounted(){\n    this.getAllTeams();\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.teams{\n    padding: 20px;\n}\n.fa{\n    cursor: pointer;\n}\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n\n</style>\n"],"sourceRoot":""}]}