{"remainingRequest":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/babel-loader/lib/index.js!/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/Merna.Hossam/Desktop/crud-app-backend/client/src/components/LoginComponent.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/src/components/LoginComponent.vue","mtime":1640128973552},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/babel.config.js","mtime":1639852633330},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGNydWRBeGlvcyBmcm9tICcuLi9jb3JlL2NydWRBeGlvcyc7IC8vIGltcG9ydCBEYXRlcGlja2VyIGZyb20gJy4uLy4uL25vZGVfbW9kdWxlcy92dWVqcy1kYXRlcGlja2VyJzsgCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xvZ2luQ29tcG9uZW50JywKICBwcm9wczoge30sCiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlZ2lzdGVyQWN0aXZlOiBmYWxzZSwKICAgICAgdXNlcm5hbWU6ICIiLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIC8vICAgdXNlcm5hbWVSZWc6ICIiLAogICAgICAvLyAgIHBhc3N3b3JkUmVnOiAiIiwKICAgICAgLy8gICBjb25maXJtUmVnOiAiIiwKICAgICAgZW1wdHlGaWVsZHM6IGZhbHNlIC8vICAgbG9nZ2VkSW46IGZhbHNlCgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGRvTG9naW46IGZ1bmN0aW9uIGRvTG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy51c2VybmFtZSA9PT0gIiIgfHwgdGhpcy5wYXNzd29yZCA9PT0gIiIpIHsKICAgICAgICB0aGlzLmVtcHR5RmllbGRzID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjcnVkQXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaS91c2Vycy9sb2dpbiIsIHsKICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLAogICAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnZGF0YScsIGRhdGEpOwogICAgICAgICAgY29uc29sZS5sb2coJ3Rva2VuJywgZGF0YS5kYXRhLnRva2VuKTsKCiAgICAgICAgICBpZiAoZGF0YS5kYXRhLnRva2VuKSB7CiAgICAgICAgICAgIC8vIHRoaXMubG9nZ2VkSW4gPSB0cnVlOwogICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy9ob21lJyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy8nKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGRvUmVnaXN0ZXI6IGZ1bmN0aW9uIGRvUmVnaXN0ZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMudXNlcm5hbWUgPT09ICIiIHx8IHRoaXMucGFzc3dvcmQgPT09ICIiKSB7CiAgICAgICAgdGhpcy5lbXB0eUZpZWxkcyA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY3J1ZEF4aW9zLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGkvdXNlcnMvcmVnaXN0ZXIiLCB7CiAgICAgICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZSwKICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgY29uc29sZS5sb2coJ2RhdGEnLCBkYXRhKTsKICAgICAgICAgIF90aGlzMi5yZWdpc3RlckFjdGl2ZSA9IGZhbHNlOwogICAgICAgICAgX3RoaXMyLnVzZXJuYW1lID0gJyc7CiAgICAgICAgICBfdGhpczIucGFzc3dvcmQgPSAnJzsgLy8gdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/Merna.Hossam/Desktop/crud-app-backend/client/src/components/LoginComponent.vue"],"names":[],"mappings":"AAsCA,OAAO,SAAP,MAAsB,mBAAtB,C,CACA;;AACA,eAAe;AACb,EAAA,IAAI,EAAE,gBADO;AAEb,EAAA,KAAK,EAAE,EAFM;AAIb,EAAA,UAAU,EAAE,EAJC;AAMX,EAAA,IANW,kBAML;AACJ,WAAM;AACJ,MAAA,cAAc,EAAE,KADZ;AAEJ,MAAA,QAAQ,EAAE,EAFN;AAGJ,MAAA,QAAQ,EAAE,EAHN;AAIN;AACA;AACA;AACE,MAAA,WAAW,EAAE,KAPT,CAQN;;AARM,KAAN;AAWH,GAlBY;AAoBb,EAAA,OAAO,EAAC;AACJ,IAAA,OADI,qBACM;AAAA;;AACP,UAAI,KAAK,QAAL,KAAkB,EAAlB,IAAwB,KAAK,QAAL,KAAkB,EAA9C,EAAkD;AAC/C,aAAK,WAAL,GAAmB,IAAnB;AACH,OAFA,MAEO;AACJ,QAAA,SAAS,CAAC,IAAV,0CAAwD;AACxD,UAAA,QAAQ,EAAE,KAAK,QADyC;AAExD,UAAA,QAAQ,EAAE,KAAK;AAFyC,SAAxD,EAIC,IAJD,CAIO,UAAA,IAAG,EAAI;AACd,UAAA,OAAO,CAAC,GAAR,CAAY,MAAZ,EAAoB,IAApB;AACA,UAAA,OAAO,CAAC,GAAR,CAAY,OAAZ,EAAqB,IAAI,CAAC,IAAL,CAAU,KAA/B;;AAEA,cAAG,IAAI,CAAC,IAAL,CAAU,KAAb,EAAmB;AAChB;AAEA,YAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,OAAlB;AACH,WAJA,MAKI;AACD,YAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACH;AACC,SAhBD;AAiBH;AAEF,KAxBG;AAyBJ,IAAA,UAzBI,wBAyBS;AAAA;;AACV,UAAI,KAAK,QAAL,KAAkB,EAAlB,IAAwB,KAAK,QAAL,KAAkB,EAA9C,EAAkD;AAC/C,aAAK,WAAL,GAAmB,IAAnB;AACH,OAFA,MAEO;AACL,QAAA,SAAS,CAAC,IAAV,6CAA2D;AAC1D,UAAA,QAAQ,EAAE,KAAK,QAD2C;AAE1D,UAAA,QAAQ,EAAE,KAAK;AAF2C,SAA3D,EAIE,IAJF,CAIO,UAAC,IAAD,EAAQ;AACd,UAAA,OAAO,CAAC,GAAR,CAAY,MAAZ,EAAoB,IAApB;AACG,UAAA,MAAI,CAAC,cAAL,GAAsB,KAAtB;AACA,UAAA,MAAI,CAAC,QAAL,GAAgB,EAAhB;AACA,UAAA,MAAI,CAAC,QAAL,GAAgB,EAAhB,CAJW,CAKX;AACF,SAVF;AAWF;AACH;AAzCI;AApBK,CAAf","sourcesContent":["<template>\n   <div>\n      <div class=\"login-page\">\n         <div class=\"container\">\n            <div class=\"row\">\n               <div class=\"col-lg-4 col-md-6 col-sm-8 mx-auto\">\n                  <div v-if=\"!registerActive\" class=\"card login\" v-bind:class=\"{ error: emptyFields }\">\n                     <h1>Sign In</h1>\n                     <form class=\"form-group\" @submit.prevent=\"doLogin\">\n                        <input v-model=\"username\" type=\"text\" class=\"form-control\" placeholder=\"username\" required>\n                        <input v-model=\"password\" type=\"password\" class=\"form-control\" placeholder=\"Password\" required>\n                        <input type=\"submit\" class=\"btn btn-primary\">\n                        <p>Don't have an account? <a href=\"#\" @click=\"registerActive = !registerActive, emptyFields = false\">Sign up here</a>\n                        </p>\n                        <!-- <p><a href=\"#\">Forgot your password?</a></p> -->\n                     </form>\n                  </div>\n\n                  <div v-else class=\"card register\" v-bind:class=\"{ error: emptyFields }\">\n                     <h1>Sign Up</h1>\n                     <form class=\"form-group\" @submit.prevent=\"doRegister\">\n                        <input v-model=\"username\" type=\"text\" class=\"form-control\" placeholder=\"Username\" required>\n                        <input v-model=\"password\" type=\"password\" class=\"form-control\" placeholder=\"Password\" required>\n                        <!-- <input v-model=\"confirmReg\" type=\"password\" class=\"form-control\" placeholder=\"Confirm Password\" required> -->\n                        <input type=\"submit\" class=\"btn btn-primary\">\n                        <p>Already have an account? <a href=\"#\" @click=\"registerActive = !registerActive, emptyFields = false\">Sign in here</a>\n                        </p>\n                     </form>\n                  </div>\n               </div>\n            </div>\n\n         </div>\n      </div>\n   </div>\n\n</template>\n<script>\nimport crudAxios from '../core/crudAxios'\n// import Datepicker from '../../node_modules/vuejs-datepicker'; \nexport default {\n  name: 'LoginComponent',\n  props: {\n  },\n  components: {\n  },\n    data(){\n      return{\n        registerActive: false,\n        username: \"\",\n        password: \"\",\n      //   usernameReg: \"\",\n      //   passwordReg: \"\",\n      //   confirmReg: \"\",\n        emptyFields: false,\n      //   loggedIn: false\n          \n      }\n  },\n\n  methods:{\n      doLogin() {\n         if (this.username === \"\" || this.password === \"\") {\n            this.emptyFields = true;\n         } else {\n            crudAxios.post(`http://localhost:5000/api/users/login`, { \n            username: this.username,\n            password: this.password,\n          })\n            .then( data =>{\n            console.log('data', data) \n            console.log('token', data.data.token)\n            \n            if(data.data.token){\n               // this.loggedIn = true;\n              \n               this.$router.push('/home')\n            }\n            else{\n               this.$router.push('/')\n            }\n            })\n         }\n        \n      },\n      doRegister() {\n         if (this.username === \"\" || this.password === \"\") {\n            this.emptyFields = true;\n         } else {\n           crudAxios.post(`http://localhost:5000/api/users/register`, { \n            username: this.username,\n            password: this.password,\n          })\n            .then((data)=>{\n            console.log('data', data)\n               this.registerActive = false\n               this.username = ''\n               this.password = ''\n               // this.$router.push('/login')\n            })\n         }\n      }\n\n  }\n}\n</script>\n<style scoped>\n   \n p {\n   line-height: 1rem;\n}\n\n.card {\n   padding: 20px;\n}\n\n.form-group input{\n    margin-bottom: 20px;\n}\n.login-page {\n   align-items: center;\n   display: flex;\n   height: 100vh;\n}\n</style>"],"sourceRoot":""}]}