{"remainingRequest":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/babel-loader/lib/index.js!/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/Merna.Hossam/Desktop/crud-app-backend/client/src/components/EmployeeComponent.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/src/components/EmployeeComponent.vue","mtime":1640031727909},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/babel.config.js","mtime":1639852633330},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCBjcnVkQXhpb3MgZnJvbSAnLi4vY29yZS9jcnVkQXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0VtcGxveWVlQ29tcG9uZW50JywKICBwcm9wczoge30sCiAgY29tcG9uZW50czogey8vIERhdGVwaWNrZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbXBsb3llZXM6IFtdLAogICAgICB2aWV3VGl0bGU6ICdFbXBsb3llZSBNYW5hZ2VtZW50JywKICAgICAgY29kZTogTnVtYmVyLAogICAgICBuYW1lOiAnJywKICAgICAgZW1wbG95ZWVJZDogMCwKICAgICAgam9pbkRhdGU6IERhdGUsCiAgICAgIGJhc2ljU2tpbGxzOiBbJ3JlYWRpbmcnLCAnd3JpdGluZycsICd3b3JrIGhhcmQnLCAncGxheSBtdXNpYycsICdzaG9wcGluZyddLAogICAgICBza2lsbHM6IFtdLAogICAgICBtb2RhbFRpdGxlOiAnJywKICAgICAgc2hvdzogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzaG93RHJvcGRvd246IGZ1bmN0aW9uIHNob3dEcm9wZG93bigpIHsKICAgICAgdGhpcy5zaG93ID0gIXRoaXMuc2hvdzsKICAgIH0sCiAgICAvLyBvbkNoZWNrKHZhbCkgewogICAgLy8gICB0aGlzLnNlbGVjdGVkU2tpbGxzID0gdmFsOwogICAgLy8gfSwKICAgIC8vcmV0dXJuIGVtcGxveWVlcwogICAgZ2V0QWxsRW1wbG95ZWVzOiBmdW5jdGlvbiBnZXRBbGxFbXBsb3llZXMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBjcnVkQXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpL2VtcGxveWVlcyIpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBfdGhpcy5lbXBsb3llZXMgPSBkYXRhLmRhdGE7CiAgICAgICAgY29uc29sZS5sb2coJ2RhdGEnLCBkYXRhLmRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICAvL2FkZCBuZXcgZW1wbG95ZWUKICAgIGFkZENsaWNrOiBmdW5jdGlvbiBhZGRDbGljaygpIHsKICAgICAgY29uc29sZS5sb2coJ2NsaWNrZWQgcG9wdXAnKTsKICAgICAgdGhpcy5tb2RhbFRpdGxlID0gJ0FkZCBFbXBsb3llZSc7CiAgICAgIHRoaXMuZW1wbG95ZWVJZCA9IDA7CiAgICAgIHRoaXMubmFtZSA9ICcnOwogICAgICB0aGlzLmNvZGUgPSAnJzsKICAgICAgdGhpcy5qb2luRGF0ZSA9ICcnOwogICAgICB0aGlzLnNraWxscyA9IFtdOwogICAgfSwKICAgIC8vZWRpdCBleGlzdGluZyBlbXBsb3llZQogICAgZWRpdENsaWNrOiBmdW5jdGlvbiBlZGl0Q2xpY2soZW1wbG95ZWUpIHsKICAgICAgY29uc29sZS5sb2coJ2VtcGxveWVlJywgZW1wbG95ZWUpOwogICAgICB0aGlzLm1vZGFsVGl0bGUgPSAnRWRpdCBFbXBsb3llZSc7CiAgICAgIHRoaXMuZW1wbG95ZWVJZCA9IGVtcGxveWVlLl9pZDsKICAgICAgdGhpcy5jb2RlID0gZW1wbG95ZWUuY29kZTsKICAgICAgdGhpcy5uYW1lID0gZW1wbG95ZWUubmFtZTsKICAgICAgdGhpcy5qb2luRGF0ZSA9IGVtcGxveWVlLmpvaW5EYXRlOwogICAgICB0aGlzLnNraWxscyA9IGVtcGxveWVlLnNraWxsczsKICAgIH0sCiAgICAvL0NSRUFURSBuZXcgZW1wbG95ZWUKICAgIGNyZWF0ZUVtcGxveWVlOiBmdW5jdGlvbiBjcmVhdGVFbXBsb3llZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBjcnVkQXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaS9lbXBsb3llZXMiLCB7CiAgICAgICAgY29kZTogdGhpcy5jb2RlLAogICAgICAgIG5hbWU6IHRoaXMubmFtZSwKICAgICAgICBqb2luRGF0ZTogdGhpcy5qb2luRGF0ZSwKICAgICAgICBza2lsbHM6IHRoaXMuc2tpbGxzCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBjb25zb2xlLmxvZygnZGF0YScsIGRhdGEuZGF0YSk7CgogICAgICAgIF90aGlzMi5nZXRBbGxFbXBsb3llZXMoKTsKCiAgICAgICAgYWxlcnQoZGF0YS5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgLy9VUERBVEUgRVhJU1RJTkcgRW1wbG95ZWUKICAgIHVwZGF0ZUVtcGxveWVlOiBmdW5jdGlvbiB1cGRhdGVFbXBsb3llZShpZCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKCdlbXBsb3llZSBpZCcsIGlkKTsKICAgICAgY3J1ZEF4aW9zLnB1dCgiaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaS9lbXBsb3llZXMvIi5jb25jYXQoaWQpLCB7CiAgICAgICAgY29kZTogdGhpcy5jb2RlLAogICAgICAgIG5hbWU6IHRoaXMubmFtZSwKICAgICAgICBqb2luRGF0ZTogdGhpcy5qb2luRGF0ZSwKICAgICAgICBza2lsbHM6IHRoaXMuc2tpbGxzCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBjb25zb2xlLmxvZygnbmV3IGpvaW4gZGF0ZScsIF90aGlzMy5qb2luRGF0ZSk7CgogICAgICAgIF90aGlzMy5nZXRBbGxFbXBsb3llZXMoKTsKCiAgICAgICAgYWxlcnQoZGF0YS5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgLy9kZWxldGUgZW1wbG95ZWUKICAgIGRlbGV0ZUVtcGxveWVlOiBmdW5jdGlvbiBkZWxldGVFbXBsb3llZShpZCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKCdpZCcsIGlkKTsKCiAgICAgIGlmICghY29uZmlybSgnQXJlIHlvdSBzdXJlPycpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjcnVkQXhpb3MuZGVsZXRlKCJodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpL2VtcGxveWVlcy8iLmNvbmNhdChpZCkpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBfdGhpczQuZ2V0QWxsRW1wbG95ZWVzKCk7CgogICAgICAgIGFsZXJ0KGRhdGEuZGF0YSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCdza2lsbHMnLCB0aGlzLnNraWxscyk7CiAgICB0aGlzLmdldEFsbEVtcGxveWVlcygpOwogIH0KfTs="},{"version":3,"sources":["/Users/Merna.Hossam/Desktop/crud-app-backend/client/src/components/EmployeeComponent.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"employees\">\n      <h3>{{viewTitle}}</h3>\n      <button type=\"button\" class=\"btn btn-primary m-2 fload-end\" data-bs-toggle=\"modal\" data-bs-target=\"#employeeModal\"\n       @click=\"addClick()\">\n            Add Employee\n      </button>\n    <table class=\"table table-striped\">\n      <thead>\n      <tr>\n        <th>Employee code</th>\n        <th>Employee name</th>\n        <th>Join Date</th>\n        <th>Skills</th>\n        <th>Edit</th>\n        <th>Delete</th>\n      </tr>\n      </thead>\n    <tbody>\n      <tr v-for=\"employee in employees\" :key=\"employee._id\">\n        <td>{{employee.code}}</td>\n        <td>{{employee.name}}</td>\n        <td>{{employee.joinDate}}</td>\n        <td>\n            <ul v-for=\"skill in employee.skills\" :key=\"skill\">\n                <li>{{skill}}</li>\n            </ul>\n        </td>\n        <td><i class=\"fa fa-pencil\" data-bs-toggle=\"modal\" data-bs-target=\"#employeeModal\" \n        @click=\"editClick(employee)\"></i></td>\n        <td><i class=\"fa fa-trash\" @click=\"deleteEmployee(employee._id)\"></i></td>\n    </tr>\n    </tbody>\n</table>\n<div class=\"modal fade\" id=\"employeeModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"employeeModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n      <h5 class=\"modal-title\" id=\"employeeModalLabel\">{{modalTitle}}</h5>\n      <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"\n      aria-label=\"Close\"></button>\n    </div>\n    <div class=\"modal-content\">\n      <div class=\"input-group mb-3\">\n          <span class=\"input-group-text\">Employee code</span>\n          <input type=\"number\" class=\"form-control\" v-model=\"code\"/>\n      </div>\n      <div class=\"input-group mb-3\">\n          <span class=\"input-group-text\">Employee Name</span>\n          <input type=\"text\" class=\"form-control\" v-model=\"name\"/>\n      </div>\n       <div class=\"input-group mb-3\">\n          <span class=\"input-group-text\">Employee JoinDate</span>\n          <input type=\"date\" class=\"form-control\" v-model=\"joinDate\"/>\n      </div>\n          <div class=\"input-group mb-3\">\n            <span class=\"input-group-text\">Employee skills</span>\n            <div class=\"dropdown\" @click=\"showDropdown\">\n                <select class=\"c-form-input\">\n                    <option value=\"\">Please Select Your Skills</option>\n                </select>\n             </div>\n            <div class=\"multiselect\">\n                <ul v-if=\"show\">\n                    <li v-for=\"(skill, index) in basicSkills\" :key=\"index\">\n                        <input type=\"checkbox\" :id=\"index\" :value=\"skill\" v-model=\"skills\">\n                        <label :for=\"index\">{{ skill }}</label>\n                    </li>\n                </ul>\n            </div>\n           \n        </div>\n         \n             <ul class=\"col\" v-if=\"skills.length\">\n                <li v-for=\"item in skills\" :key=\"item\">{{ item }}</li>\n            </ul>\n      <button type=\"button\" v-if=\"employeeId==0\" class=\"btn btn-primary\" @click=\"createEmployee\">Create</button>\n      <button type=\"button\" v-if=\"employeeId!=0\" class=\"btn btn-primary\" @click=\"updateEmployee(employeeId)\">Update</button>\n\n    </div>\n  </div>\n</div>\n\n</div>\n\n  </div>\n</template>\n\n<script>\nimport crudAxios from '../core/crudAxios'\nexport default {\n  name: 'EmployeeComponent',\n  props: {\n  },\n  components: {\n    // Datepicker\n  },\n    data(){\n      return{\n          employees: [],\n          viewTitle: 'Employee Management',\n          code: Number,\n          name: '',\n          employeeId: 0,\n          joinDate: Date,\n          basicSkills:['reading','writing','work hard', 'play music', 'shopping'],\n          skills:[],\n          modalTitle: '',\n          show: false,\n      }\n  },\n\n  methods:{\n      showDropdown() {\n      this.show = !this.show\n    },\n    // onCheck(val) {\n    //   this.selectedSkills = val;\n    // },\n    //return employees\n    getAllEmployees(){\n      crudAxios.get(`http://localhost:5000/api/employees`).then(data =>{\n        this.employees = data.data\n        console.log('data', data.data)\n      })\n    },\n    //add new employee\n    addClick(){\n      console.log('clicked popup')\n      this.modalTitle= 'Add Employee';\n      this.employeeId = 0;\n      this.name = '';\n      this.code = '';\n      this.joinDate = '';\n      this.skills = [];\n    },\n    //edit existing employee\n    editClick(employee){\n      console.log('employee', employee)\n      this.modalTitle= 'Edit Employee';\n      this.employeeId = employee._id;\n      this.code = employee.code;\n      this.name = employee.name;\n      this.joinDate = employee.joinDate;\n      this.skills = employee.skills;\n    },\n    //CREATE new employee\n    createEmployee(){\n      crudAxios.post(`http://localhost:5000/api/employees`, { \n          code: this.code,\n          name: this.name,\n          joinDate: this.joinDate,\n          skills: this.skills\n          })\n      .then((data)=>{\n        console.log('data', data.data)\n        this.getAllEmployees();\n        alert(data.data);\n      })\n    },\n    //UPDATE EXISTING Employee\n    updateEmployee(id){\n      console.log('employee id', id)\n      crudAxios.put(`http://localhost:5000/api/employees/${id}`, { \n          code: this.code,\n          name: this.name,\n          joinDate: this.joinDate,\n          skills: this.skills\n          })\n      .then((data)=>{\n         console.log('new join date', this.joinDate)\n        this.getAllEmployees();\n       alert(data.data);\n      })\n    },\n\n    //delete employee\n    deleteEmployee(id){\n      console.log('id', id)\n      if(!confirm('Are you sure?')){\n        return;\n      }\n      crudAxios.delete(`http://localhost:5000/api/employees/${id}`)\n      .then(data =>{\n         this.getAllEmployees();\n          alert(data.data);\n      })\n      \n    }\n  },\n  mounted(){\n      console.log('skills', this.skills)\n      this.getAllEmployees();\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.employees{\n    padding: 20px;\n}\n.fa{\n    cursor: pointer;\n}\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n.dropdown { \n  position: relative; \n  cursor: pointer;\n}\n\n.multiselect {\n  position: relative;\n      width: 100%;\n    position: absolute;\n    top: 50px;\n}\n.multiselect  ul{\n    border: 1px solid #ddd;\n    border-top: 0;\n    border-radius: 0 0 3px 3px;\n    left: 0px;\n    padding: 8px 8px;\n    position: absolute;\n    top: -1rem;\n    width: 100%;\n    list-style: none;\n    max-height: 150px;\n    overflow: auto;\n    display: flex;\n    flex-direction: row;\n    background: #fff;\n}\n\n.overselect {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n</style>\n"],"sourceRoot":""}]}