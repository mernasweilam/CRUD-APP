{"remainingRequest":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/babel-loader/lib/index.js!/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/Merna.Hossam/Desktop/crud-app-backend/client/src/views/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/src/views/Login.vue","mtime":1640205162438},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/babel.config.js","mtime":1639852633330},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGNydWRBeGlvcyBmcm9tICcuLi9jb3JlL2NydWRBeGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTG9naW4nLAogIHByb3BzOiB7fSwKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVnaXN0ZXJBY3RpdmU6IGZhbHNlLAogICAgICB1c2VybmFtZTogIiIsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgZW1wdHlGaWVsZHM6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZG9Mb2dpbjogZnVuY3Rpb24gZG9Mb2dpbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnVzZXJuYW1lID09PSAiIiB8fCB0aGlzLnBhc3N3b3JkID09PSAiIikgewogICAgICAgIHRoaXMuZW1wdHlGaWVsZHMgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIGNydWRBeGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpL3VzZXJzL2xvZ2luIiwgewogICAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsCiAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdkYXRhJywgZGF0YSk7CiAgICAgICAgICBjb25zb2xlLmxvZygndG9rZW4nLCBkYXRhLmRhdGEudG9rZW4pOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgZGF0YS5kYXRhLnRva2VuKTsKCiAgICAgICAgICBpZiAoZGF0YS5kYXRhLnRva2VuKSB7CiAgICAgICAgICAgIF90aGlzLmxvZ2dlZEluID0gdHJ1ZTsKICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL3RlYW1zJzsKICAgICAgICAgICAgY29uc29sZS5sb2coJ3Rva2VuJywgZGF0YS5kYXRhLnRva2VuKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBkb1JlZ2lzdGVyOiBmdW5jdGlvbiBkb1JlZ2lzdGVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnVzZXJuYW1lID09PSAiIiB8fCB0aGlzLnBhc3N3b3JkID09PSAiIikgewogICAgICAgIHRoaXMuZW1wdHlGaWVsZHMgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIGNydWRBeGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpL3VzZXJzL3JlZ2lzdGVyIiwgewogICAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsCiAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdkYXRhJywgZGF0YSk7CiAgICAgICAgICBfdGhpczIucmVnaXN0ZXJBY3RpdmUgPSBmYWxzZTsKICAgICAgICAgIF90aGlzMi51c2VybmFtZSA9ICcnOwogICAgICAgICAgX3RoaXMyLnBhc3N3b3JkID0gJyc7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/Merna.Hossam/Desktop/crud-app-backend/client/src/views/Login.vue"],"names":[],"mappings":"AA2CA,OAAO,SAAP,MAAsB,mBAAtB;AACA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,KAAK,EAAE,EAFM;AAIb,EAAA,UAAU,EAAE,EAJC;AAMX,EAAA,IANW,kBAML;AACJ,WAAM;AACJ,MAAA,cAAc,EAAE,KADZ;AAEJ,MAAA,QAAQ,EAAE,EAFN;AAGJ,MAAA,QAAQ,EAAE,EAHN;AAIJ,MAAA,WAAW,EAAE;AAJT,KAAN;AAOH,GAdY;AAgBb,EAAA,OAAO,EAAC;AACJ,IAAA,OADI,qBACM;AAAA;;AACP,UAAI,KAAK,QAAL,KAAkB,EAAlB,IAAwB,KAAK,QAAL,KAAkB,EAA9C,EAAkD;AAC/C,aAAK,WAAL,GAAmB,IAAnB;AACH,OAFA,MAEO;AACJ,QAAA,SAAS,CAAC,IAAV,0CAAwD;AACxD,UAAA,QAAQ,EAAE,KAAK,QADyC;AAExD,UAAA,QAAQ,EAAE,KAAK;AAFyC,SAAxD,EAIC,IAJD,CAIO,UAAA,IAAG,EAAI;AACd,UAAA,OAAO,CAAC,GAAR,CAAY,MAAZ,EAAoB,IAApB;AACA,UAAA,OAAO,CAAC,GAAR,CAAY,OAAZ,EAAqB,IAAI,CAAC,IAAL,CAAU,KAA/B;AACA,UAAA,YAAY,CAAC,OAAb,CAAqB,OAArB,EAA8B,IAAI,CAAC,IAAL,CAAU,KAAxC;;AAEA,cAAG,IAAI,CAAC,IAAL,CAAU,KAAb,EAAmB;AAChB,YAAA,KAAI,CAAC,QAAL,GAAgB,IAAhB;AACD,YAAA,MAAM,CAAC,QAAP,CAAgB,IAAhB,GAAsB,QAAtB;AACC,YAAA,OAAO,CAAC,GAAR,CAAY,OAAZ,EAAqB,IAAI,CAAC,IAAL,CAAU,KAA/B;AACH,WAJA,MAKI;AACD,YAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,QAAlB;AACH;AACC,SAjBD;AAkBH;AAEF,KAzBG;AA0BJ,IAAA,UA1BI,wBA0BS;AAAA;;AACV,UAAI,KAAK,QAAL,KAAkB,EAAlB,IAAwB,KAAK,QAAL,KAAkB,EAA9C,EAAkD;AAC/C,aAAK,WAAL,GAAmB,IAAnB;AACH,OAFA,MAEO;AACL,QAAA,SAAS,CAAC,IAAV,6CAA2D;AAC1D,UAAA,QAAQ,EAAE,KAAK,QAD2C;AAE1D,UAAA,QAAQ,EAAE,KAAK;AAF2C,SAA3D,EAIE,IAJF,CAIO,UAAC,IAAD,EAAQ;AACd,UAAA,OAAO,CAAC,GAAR,CAAY,MAAZ,EAAoB,IAApB;AACG,UAAA,MAAI,CAAC,cAAL,GAAsB,KAAtB;AACA,UAAA,MAAI,CAAC,QAAL,GAAgB,EAAhB;AACA,UAAA,MAAI,CAAC,QAAL,GAAgB,EAAhB;AACF,SATF;AAUF;AACH;AAzCI;AAhBK,CAAf","sourcesContent":["<template>\n   <div>\n      <div class=\"login-page\" v-if=\"!registerActive\">\n         <div class=\"container\">\n            <div class=\"row\">\n               <div class=\"col-lg-4 col-md-6 col-sm-8 mx-auto\">\n                  <div class=\"card login\" v-bind:class=\"{ error: emptyFields }\">\n                        <h1>Sign In</h1>\n                        <form class=\"form-group\" @submit.prevent=\"doLogin\">\n                           <input v-model=\"username\" type=\"text\" class=\"form-control\" placeholder=\"username\" required>\n                           <input v-model=\"password\" type=\"password\" class=\"form-control\" placeholder=\"Password\" required>\n                           <input type=\"submit\" class=\"btn btn-primary\">\n                           <p>Don't have an account? <a href=\"#\" @click=\"registerActive = !registerActive, emptyFields = false\">Create a new account</a>\n                           </p>\n                        </form>\n                  </div>\n               </div>\n            </div>\n         </div>\n      </div>\n      <div class=\"register-page\" v-else>\n         <div class=\"container\">\n            <div class=\"row\">\n               <div class=\"col-lg-4 col-md-6 col-sm-8 mx-auto\">\n                  <div class=\"card register\" v-bind:class=\"{ error: emptyFields }\">\n                     <h1>Sign Up</h1>\n                     <form class=\"form-group\" @submit.prevent=\"doRegister\">\n                        <input v-model=\"username\" type=\"text\" class=\"form-control\" placeholder=\"Username\" required>\n                        <input v-model=\"password\" type=\"password\" class=\"form-control\" placeholder=\"Password\" required>\n                        <!-- <input v-model=\"confirmReg\" type=\"password\" class=\"form-control\" placeholder=\"Confirm Password\" required> -->\n                        <input type=\"submit\" class=\"btn btn-primary\">\n                        <p>Already have an account? <a href=\"#\" @click=\"registerActive = !registerActive, emptyFields = false\">Sign in here</a>\n                        </p>\n                     </form>\n                  </div>\n               </div>\n            </div>\n         </div>\n      </div>\n      </div>\n\n</template>\n<script>\nimport crudAxios from '../core/crudAxios'\nexport default {\n  name: 'Login',\n  props: {\n  },\n  components: {\n  },\n    data(){\n      return{\n        registerActive: false,\n        username: \"\",\n        password: \"\",\n        emptyFields: false,\n          \n      }\n  },\n\n  methods:{\n      doLogin() {\n         if (this.username === \"\" || this.password === \"\") {\n            this.emptyFields = true;\n         } else {\n            crudAxios.post(`http://localhost:5000/api/users/login`, { \n            username: this.username,\n            password: this.password,\n          })\n            .then( data =>{\n            console.log('data', data) \n            console.log('token', data.data.token)\n            localStorage.setItem('token', data.data.token)\n\n            if(data.data.token){\n               this.loggedIn = true;\n              window.location.href ='/teams'\n               console.log('token', data.data.token)\n            }\n            else{\n               this.$router.push('/login')\n            }\n            })\n         }\n        \n      },\n      doRegister() {\n         if (this.username === \"\" || this.password === \"\") {\n            this.emptyFields = true;\n         } else {\n           crudAxios.post(`http://localhost:5000/api/users/register`, { \n            username: this.username,\n            password: this.password,\n          })\n            .then((data)=>{\n            console.log('data', data)\n               this.registerActive = false\n               this.username = ''\n               this.password = ''\n            })\n         }\n      }\n\n  }\n}\n</script>\n<style scoped>\n   \n p {\n   line-height: 1rem;\n}\n\n.card {\n   padding: 20px;\n}\n\n.form-group input{\n    margin-bottom: 20px;\n}\n.login-page , .register-page {\n   align-items: center;\n   display: flex;\n   height: 100vh;\n}\n</style>"],"sourceRoot":""}]}