{"remainingRequest":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/Merna.Hossam/Desktop/crud-app-backend/client/src/views/Login.vue?vue&type=style&index=0&id=26084dc2&scoped=true&lang=css","dependencies":[{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/src/views/Login.vue","mtime":1640205162438},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":499162500000},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgIAogcCB7CiAgIGxpbmUtaGVpZ2h0OiAxcmVtOwp9CgouY2FyZCB7CiAgIHBhZGRpbmc6IDIwcHg7Cn0KCi5mb3JtLWdyb3VwIGlucHV0ewogICAgbWFyZ2luLWJvdHRvbTogMjBweDsKfQoubG9naW4tcGFnZSAsIC5yZWdpc3Rlci1wYWdlIHsKICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgZGlzcGxheTogZmxleDsKICAgaGVpZ2h0OiAxMDB2aDsKfQo="},{"version":3,"sources":["/Users/Merna.Hossam/Desktop/crud-app-backend/client/src/views/Login.vue"],"names":[],"mappings":";;CA4GC,EAAE;GACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACpB;;AAEA,CAAC,CAAC,CAAC,CAAC,EAAE;GACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAChB;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACvB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;GAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;GACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAChB","file":"/Users/Merna.Hossam/Desktop/crud-app-backend/client/src/views/Login.vue","sourceRoot":"","sourcesContent":["<template>\n   <div>\n      <div class=\"login-page\" v-if=\"!registerActive\">\n         <div class=\"container\">\n            <div class=\"row\">\n               <div class=\"col-lg-4 col-md-6 col-sm-8 mx-auto\">\n                  <div class=\"card login\" v-bind:class=\"{ error: emptyFields }\">\n                        <h1>Sign In</h1>\n                        <form class=\"form-group\" @submit.prevent=\"doLogin\">\n                           <input v-model=\"username\" type=\"text\" class=\"form-control\" placeholder=\"username\" required>\n                           <input v-model=\"password\" type=\"password\" class=\"form-control\" placeholder=\"Password\" required>\n                           <input type=\"submit\" class=\"btn btn-primary\">\n                           <p>Don't have an account? <a href=\"#\" @click=\"registerActive = !registerActive, emptyFields = false\">Create a new account</a>\n                           </p>\n                        </form>\n                  </div>\n               </div>\n            </div>\n         </div>\n      </div>\n      <div class=\"register-page\" v-else>\n         <div class=\"container\">\n            <div class=\"row\">\n               <div class=\"col-lg-4 col-md-6 col-sm-8 mx-auto\">\n                  <div class=\"card register\" v-bind:class=\"{ error: emptyFields }\">\n                     <h1>Sign Up</h1>\n                     <form class=\"form-group\" @submit.prevent=\"doRegister\">\n                        <input v-model=\"username\" type=\"text\" class=\"form-control\" placeholder=\"Username\" required>\n                        <input v-model=\"password\" type=\"password\" class=\"form-control\" placeholder=\"Password\" required>\n                        <!-- <input v-model=\"confirmReg\" type=\"password\" class=\"form-control\" placeholder=\"Confirm Password\" required> -->\n                        <input type=\"submit\" class=\"btn btn-primary\">\n                        <p>Already have an account? <a href=\"#\" @click=\"registerActive = !registerActive, emptyFields = false\">Sign in here</a>\n                        </p>\n                     </form>\n                  </div>\n               </div>\n            </div>\n         </div>\n      </div>\n      </div>\n\n</template>\n<script>\nimport crudAxios from '../core/crudAxios'\nexport default {\n  name: 'Login',\n  props: {\n  },\n  components: {\n  },\n    data(){\n      return{\n        registerActive: false,\n        username: \"\",\n        password: \"\",\n        emptyFields: false,\n          \n      }\n  },\n\n  methods:{\n      doLogin() {\n         if (this.username === \"\" || this.password === \"\") {\n            this.emptyFields = true;\n         } else {\n            crudAxios.post(`http://localhost:5000/api/users/login`, { \n            username: this.username,\n            password: this.password,\n          })\n            .then( data =>{\n            console.log('data', data) \n            console.log('token', data.data.token)\n            localStorage.setItem('token', data.data.token)\n\n            if(data.data.token){\n               this.loggedIn = true;\n              window.location.href ='/teams'\n               console.log('token', data.data.token)\n            }\n            else{\n               this.$router.push('/login')\n            }\n            })\n         }\n        \n      },\n      doRegister() {\n         if (this.username === \"\" || this.password === \"\") {\n            this.emptyFields = true;\n         } else {\n           crudAxios.post(`http://localhost:5000/api/users/register`, { \n            username: this.username,\n            password: this.password,\n          })\n            .then((data)=>{\n            console.log('data', data)\n               this.registerActive = false\n               this.username = ''\n               this.password = ''\n            })\n         }\n      }\n\n  }\n}\n</script>\n<style scoped>\n   \n p {\n   line-height: 1rem;\n}\n\n.card {\n   padding: 20px;\n}\n\n.form-group input{\n    margin-bottom: 20px;\n}\n.login-page , .register-page {\n   align-items: center;\n   display: flex;\n   height: 100vh;\n}\n</style>"]}]}